<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ë©•ì•„ë…¸ê¸°</title>
    <style>
        :root {
            --bg: #0b0c0f;
            --panel: #111319;
            --muted: #5b6370;
            --text: #eef1f6;
            --accent: #86b7ff;
            --accent-ghost: rgba(134, 183, 255, .12);
            --border: rgba(255, 255, 255, .08);
        }

        @media (prefers-color-scheme: light) {
            :root {
                --bg: #f6f7fb;
                --panel: #ffffff;
                --muted: #6b7280;
                --text: #0f172a;
                --accent: #2563eb;
                --accent-ghost: rgba(37, 99, 235, .12);
                --border: rgba(15, 23, 42, .08);
            }
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0
        }

        body {
            font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple SD Gothic Neo, "Noto Sans KR", "Malgun Gothic", sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            min-height: 100dvh;
        }

        header {
            position: sticky;
            top: 0;
            z-index: 10;
            background: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 85%, transparent));
            border-bottom: 1px solid var(--border);
            backdrop-filter: saturate(1.2) blur(6px);
        }

        .wrap {
            max-width: 1100px;
            margin: 0 auto;
            padding: 12px 16px
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .brand h1 {
            margin: 0;
            font-size: 20px;
            font-weight: 800;
            letter-spacing: .2px;
        }

        nav[role="tablist"] {
            display: flex;
            gap: 6px;
            overflow-x: auto;
            padding-bottom: 6px;
            scrollbar-width: thin;
        }

        .tab {
            -webkit-tap-highlight-color: transparent;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            padding: 8px 12px;
            border-radius: 999px;
            font-size: 14px;
            line-height: 1;
            cursor: pointer;
            transition: transform .06s ease, background .2s ease, border-color .2s ease;
            white-space: nowrap;
        }

        .tab:hover {
            background: color-mix(in oklab, var(--panel) 92%, var(--accent-ghost));
        }

        .tab[aria-selected="true"] {
            background: var(--accent-ghost);
            border-color: color-mix(in oklab, var(--accent) 40%, var(--border));
        }

        .controls {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .btn {
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 13px;
            cursor: pointer;
        }

        .btn:hover {
            background: color-mix(in oklab, var(--panel) 90%, var(--accent-ghost));
        }

        .btn:focus-visible,
        .tab:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        main {
            flex: 1;
            min-height: 0;
        }

        .viewer {
            width: 100%;
            height: 100%;
            border: 0;
            display: block;
            background: #ffffff;
        }

        .hint {
            color: var(--muted);
            font-size: 12px;
            margin-top: 6px;
        }

        footer {
            background: var(--panel);
            border-top: 1px solid var(--border);
            padding: 5px 20px;
            font-size: 13px;
            color: var(--muted);
            text-align: right;
        }
    </style>
</head>

<body>
    <header>
        <div class="wrap">
            <div class="brand" aria-label="í˜ì´ì§€ ì œëª©">
                <h1>ë©•ì•„ë…¸ê¸°ğŸ¤ª</h1>
            </div>

            <nav id="tabs" role="tablist" aria-label="í˜ì´ì§€ íƒ­"></nav>
        </div>
    </header>

    <main>
        <iframe id="viewer" class="viewer" title="ì½˜í…ì¸  ë·°ì–´"
            sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox"></iframe>
        <noscript>
            ì´ í˜ì´ì§€ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™œì„±í™”í•´ì£¼ì„¸ìš”.
        </noscript>
    </main>

    <footer>
        <div class="footer-wrap">
            <p>ë§ŒëŒë¦° ë©•ì•„ | ë””ìŠ¤ì½”ë“œ __mekmek</p>
        </div>
    </footer>

    <script>
        /** â–¼ íƒ­ì— í‘œì‹œí•  í˜ì´ì§€ ëª©ë¡ì„ ì—¬ê¸°ì„œ ê´€ë¦¬í•˜ì„¸ìš” */
        const PAGES = [
            { key: 'dmgCalc', title: 'í‘œê¸° ê³µê²©ë ¥ ê³„ì‚°ê¸°', url: 'https://mekmek2.github.io/dmgCalc/' },
            { key: 'erinmarble', title: 'ì—ë¦°ë§ˆë¸” ê³„ì‚°ê¸°', url: 'https://mekmek2.github.io/erinmarble/' },
            { key: 'dodoland', title: 'ë‘ë‘ì„¬ ì§€ë„', url: 'https://mekmek2.github.io/dodoland/' },
            { key: 'eco', title: 'ì—ì½”ìŠ¤í†¤ í™•ë¥ ', url: 'https://mekmek2.github.io/ecostone_red/' },
        ];

        const $tabs = document.getElementById('tabs');
        const $viewer = document.getElementById('viewer');
        const $openNewTab = document.getElementById('openNewTab');

        function makeTab(page, i) {
            const btn = document.createElement('button');
            btn.className = 'tab';
            btn.type = 'button';
            btn.role = 'tab';
            btn.id = `tab-${page.key}`;
            btn.setAttribute('data-key', page.key);
            btn.setAttribute('aria-selected', 'false');
            btn.setAttribute('tabindex', i === 0 ? '0' : '-1');
            btn.textContent = page.title;
            btn.addEventListener('click', () => selectPage(page.key, { focus: true, pushState: true }));
            return btn;
        }

        function renderTabs() {
            $tabs.innerHTML = '';
            PAGES.forEach((p, i) => $tabs.appendChild(makeTab(p, i)));
        }

        function getPageByKey(key) { return PAGES.find(p => p.key === key); }

        function selectPage(key, { focus = false, pushState = false } = {}) {
            const page = getPageByKey(key) || PAGES[0];
            // aria ìƒíƒœ ì—…ë°ì´íŠ¸
            [...$tabs.children].forEach((el, idx) => {
                const active = el.getAttribute('data-key') === page.key;
                el.setAttribute('aria-selected', String(active));
                el.setAttribute('tabindex', active ? '0' : '-1');
                if (focus && active) el.focus();
            });

            // iframe ë¡œë“œ
            $viewer.src = page.url;
            $viewer.title = `${page.title} â€“ ì½˜í…ì¸  ë·°ì–´`;

            // ìƒë‹¨ "ìƒˆ íƒ­" ë²„íŠ¼ ë™ê¸°í™”
            $openNewTab.onclick = () => window.open(page.url, '_blank', 'noopener,noreferrer');

            // ì£¼ì†Œí•´ì‹œ ì—…ë°ì´íŠ¸ë¡œ ë”¥ë§í¬ ì§€ì›
            if (pushState) location.hash = `#${page.key}`;
        }

        function restoreFromHash() {
            const key = decodeURIComponent(location.hash.replace('#', '').trim());
            if (getPageByKey(key)) selectPage(key, { focus: true, pushState: false });
            else selectPage(PAGES[0].key, { focus: false, pushState: false });
        }

        // í‚¤ë³´ë“œë¡œ íƒ­ ê°„ ì´ë™(â†/â†’/Home/End)
        $tabs.addEventListener('keydown', (e) => {
            const tabs = [...$tabs.querySelectorAll('.tab')];
            const currentIndex = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
            let nextIndex = currentIndex;
            if (e.key === 'ArrowRight') nextIndex = (currentIndex + 1) % tabs.length;
            else if (e.key === 'ArrowLeft') nextIndex = (currentIndex - 1 + tabs.length) % tabs.length;
            else if (e.key === 'Home') nextIndex = 0;
            else if (e.key === 'End') nextIndex = tabs.length - 1;
            else return;
            e.preventDefault();
            const key = tabs[nextIndex].getAttribute('data-key');
            selectPage(key, { focus: true, pushState: true });
        });

        window.addEventListener('hashchange', restoreFromHash);

        // ì´ˆê¸°í™”
        renderTabs();
        restoreFromHash();
    </script>
</body>

</html>